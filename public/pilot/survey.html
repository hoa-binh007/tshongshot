<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Survey</title>
  <link rel="stylesheet" href="app.css"/>

  <style>
    /* Minimal, damit die Skalen sichtbar + aktiv sind (falls app.css es nicht hat) */
    .q-title { font-weight: 700; margin-bottom: 8px; }
    .choices { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
    .choice { display: flex; gap: 10px; align-items: center; }
    .scale { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 8px; }
    .dot { min-width: 38px; height: 38px; border-radius: 999px; border: 1px solid #666; background: transparent; color: inherit; cursor: pointer; }
    .dot.active { background: #e31e24 !important; color: #fff !important; border-color: #e31e24 !important; }
    .pilot-meta select { background: transparent; color: inherit; border: 1px solid #555; border-radius: 10px; }
    .pilot-meta option { color: #000; }
  </style>
</head>

<body>

   <div class="wrap">

    <div class="card">

      <!-- HEADER ganz oben im Blatt -->
      <div class="row">
        <div class="small" data-de="Umfrage" data-vi="Kháº£o sÃ¡t" data-en="Survey"></div>
        <div class="lang">
          <button id="btnVi" type="button">ðŸ‡»ðŸ‡³</button>
          <button id="btnEn" type="button">ðŸ‡¬ðŸ‡§</button>
          <button id="btnDe" type="button">ðŸ‡©ðŸ‡ª</button>
        </div>
      </div>


    <!-- META (optional) -->
    <div class="pilot-meta" style="margin:12px 0; padding:12px; border:1px solid #333; border-radius:10px;">
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <label style="flex:1; min-width:160px;">
          <div style="font-weight:600; margin-bottom:6px;"
               data-de="Rolle (optional)"
               data-vi="Vai trÃ² (tÃ¹y chá»n)"
               data-en="Role (optional)"></div>

          <select id="role" style="width:100%; padding:8px;">
            <option value="" data-de="(Ã¼berspringen)" data-vi="(bá» qua)" data-en="(skip)"></option>
            <option value="consumer" data-de="Konsument" data-vi="NgÆ°á»i dÃ¹ng" data-en="Consumer"></option>
            <option value="expert" data-de="Experte" data-vi="ChuyÃªn gia" data-en="Expert"></option>
            <option value="internal" data-de="Intern (Firma)" data-vi="Ná»™i bá»™ (cÃ´ng ty)" data-en="Internal (company)"></option>
          </select>
        </label>

        <label style="flex:1; min-width:160px;">
          <div style="font-weight:600; margin-bottom:6px;"
               data-de="Stadt (optional)"
               data-vi="ThÃ nh phá»‘ (tÃ¹y chá»n)"
               data-en="City (optional)"></div>

          <select id="city" style="width:100%; padding:8px;">
            <option value="" data-de="(Ã¼berspringen)" data-vi="(bá» qua)" data-en="(skip)"></option>

            <option value="Germany" data-de="Deutschland" data-vi="Äá»©c" data-en="Germany"></option>
            <option value="Korea" data-de="Korea" data-vi="HÃ n Quá»‘c" data-en="Korea"></option>
            <option value="Seoul">Seoul</option>
            <option value="Busan">Busan</option>

            <option value="Saigon">Saigon</option>
            <option value="DaLat">Da Lat</option>
            <option value="Hue">Huáº¿</option>
            <option value="QuangBinh">Quáº£ng BÃ¬nh</option>
            <option value="Other" data-de="Andere" data-vi="KhÃ¡c" data-en="Other"></option>
          </select>
        </label>
      </div>

      <div style="margin-top:8px; font-size:0.9em; opacity:0.8;"
           data-de="Hilft uns beim Vergleich der Standorte."
           data-vi="GiÃºp chÃºng tÃ´i so sÃ¡nh giá»¯a cÃ¡c thÃ nh phá»‘."
           data-en="Helps us compare cities/experts."></div>
    </div>

    <div class="card">
      <h1 data-de="Schnellumfrage (Final v2.1)"
          data-vi="Kháº£o sÃ¡t nhanh (Báº£n cuá»‘i v2.1)"
          data-en="Quick survey (Final v2.1)"></h1>

      <p data-de="Anonym. Schnell tippen."
         data-vi="Chá»n nhanh. áº¨n danh."
         data-en="Tap quickly. Anonymous."></p>

      <form id="surveyForm">

        <h2 data-de="TEIL A â€“ BASIS" data-vi="PHáº¦N A â€“ THÃ”NG TIN CÆ  Báº¢N" data-en="PART A â€“ BASICS"></h2>

        <div class="q">
          <div class="q-title" data-de="A1. Altersspanne" data-vi="A1. NhÃ³m tuá»•i" data-en="A1. Age range"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="a1_age" value="u18" required><span data-de="Unter 18" data-vi="DÆ°á»›i 18" data-en="Under 18"></span></label>
            <label class="choice"><input type="radio" name="a1_age" value="18_24"><span data-de="18â€“24" data-vi="18â€“24" data-en="18â€“24"></span></label>
            <label class="choice"><input type="radio" name="a1_age" value="25_34"><span data-de="25â€“34" data-vi="25â€“34" data-en="25â€“34"></span></label>
            <label class="choice"><input type="radio" name="a1_age" value="35_44"><span data-de="35â€“44" data-vi="35â€“44" data-en="35â€“44"></span></label>
            <label class="choice"><input type="radio" name="a1_age" value="45_54"><span data-de="45â€“54" data-vi="45â€“54" data-en="45â€“54"></span></label>
            <label class="choice"><input type="radio" name="a1_age" value="55p"><span data-de="55+" data-vi="55+" data-en="55+"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title"
               data-de="A2. Was trinken Sie normalerweise regelmÃ¤ÃŸig?"
               data-vi="A2. Báº¡n thÆ°á»ng uá»‘ng gÃ¬?"
               data-en="A2. What do you usually drink?"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="a2_habit" value="coffee" required><span data-de="Kaffee" data-vi="CÃ  phÃª" data-en="Coffee"></span></label>
            <label class="choice"><input type="radio" name="a2_habit" value="tea"><span data-de="Tee" data-vi="TrÃ " data-en="Tea"></span></label>
            <label class="choice"><input type="radio" name="a2_habit" value="both"><span data-de="Beides" data-vi="Cáº£ hai" data-en="Both"></span></label>
            <label class="choice"><input type="radio" name="a2_habit" value="neither"><span data-de="Keines von beidem" data-vi="KhÃ´ng uá»‘ng cáº£ hai" data-en="Neither"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title"
               data-de="A3. Hatten Sie vorher Erfahrung mit Ginseng(-GetrÃ¤nken)?"
               data-vi="A3. Báº¡n Ä‘Ã£ tá»«ng dÃ¹ng Ä‘á»“ uá»‘ng nhÃ¢n sÃ¢m chÆ°a?"
               data-en="A3. Have you had ginseng drink experience before?"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="a3_ginsengKnown" value="yes" required><span data-de="Ja" data-vi="CÃ³" data-en="Yes"></span></label>
            <label class="choice"><input type="radio" name="a3_ginsengKnown" value="no"><span data-de="Nein" data-vi="KhÃ´ng" data-en="No"></span></label>
          </div>
        </div>

        <h2 data-de="TEIL B â€“ WAHRNEHMUNG" data-vi="PHáº¦N B â€“ Cáº¢M NHáº¬N" data-en="PART B â€“ PERCEPTION"></h2>

        <div class="q">
          <div class="q-title" data-de="B1. Bitterer Geschmack" data-vi="B1. Vá»‹ Ä‘áº¯ng" data-en="B1. Bitter taste"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q1_bitter" value="strong" required><span data-de="Stark" data-vi="Äáº¯ng rÃµ" data-en="Strong"></span></label>
            <label class="choice"><input type="radio" name="q1_bitter" value="mild"><span data-de="Mild" data-vi="Äáº¯ng nháº¹" data-en="Mild"></span></label>
            <label class="choice"><input type="radio" name="q1_bitter" value="hardly"><span data-de="Kaum" data-vi="Háº§u nhÆ° khÃ´ng Ä‘áº¯ng" data-en="Hardly"></span></label>
            <label class="choice"><input type="radio" name="q1_bitter" value="none"><span data-de="Nicht bitter" data-vi="KhÃ´ng Ä‘áº¯ng" data-en="Not bitter"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="B2. Leichter sÃ¼ÃŸer Nachgeschmack?" data-vi="B2. Háº­u vá»‹ ngá»t nháº¹?" data-en="B2. Slight sweet aftertaste?"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q2_sweet" value="yes" required><span data-de="Ja" data-vi="CÃ³" data-en="Yes"></span></label>
            <label class="choice"><input type="radio" name="q2_sweet" value="little"><span data-de="Ein bisschen" data-vi="CÃ³ má»™t chÃºt" data-en="A little"></span></label>
            <label class="choice"><input type="radio" name="q2_sweet" value="unsure"><span data-de="Nicht sicher" data-vi="KhÃ´ng cháº¯c" data-en="Not sure"></span></label>
            <label class="choice"><input type="radio" name="q2_sweet" value="no"><span data-de="Nein" data-vi="KhÃ´ng" data-en="No"></span></label>
          </div>
        </div>

        <div class="q" data-qscale="q2b_mouthfeel">
          <div class="q-title"
               data-de="B3. Nachgeschmack / MundgefÃ¼hl (1 = sehr unangenehm, 5 = sehr angenehm)"
               data-vi="B3. Háº­u vá»‹ / cáº£m giÃ¡c miá»‡ng (1 = ráº¥t khÃ³ chá»‹u, 5 = ráº¥t dá»… chá»‹u)"
               data-en="B3. Aftertaste / mouthfeel (1 = very unpleasant, 5 = very pleasant)"></div>
          <input type="hidden" name="q2b_mouthfeel" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q2b_mouthfeel" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q2b_mouthfeel" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q2b_mouthfeel" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q2b_mouthfeel" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q2b_mouthfeel" data-value="5">5</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="B4. Mehr Speichelfluss?" data-vi="B4. Nhiá»u nÆ°á»›c bá»t hÆ¡n?" data-en="B4. More saliva?"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q3_saliva" value="yes_clear" required><span data-de="Ja, deutlich" data-vi="CÃ³, rÃµ" data-en="Yes, clearly"></span></label>
            <label class="choice"><input type="radio" name="q3_saliva" value="yes_light"><span data-de="Ja, leicht" data-vi="CÃ³, nháº¹" data-en="Yes, a little"></span></label>
            <label class="choice"><input type="radio" name="q3_saliva" value="unsure"><span data-de="Nicht sicher" data-vi="KhÃ´ng cháº¯c" data-en="Not sure"></span></label>
            <label class="choice"><input type="radio" name="q3_saliva" value="no"><span data-de="Nein" data-vi="KhÃ´ng" data-en="No"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="B5. Gesamteindruck" data-vi="B5. Cáº£m nháº­n chung" data-en="B5. Overall perception"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q4_type" value="health_machine" required><span data-de="GesundheitsgetrÃ¤nk (Maschine)" data-vi="Äá»“ uá»‘ng sá»©c khá»e (mÃ¡y)" data-en="Health drink (machine)"></span></label>
            <label class="choice"><input type="radio" name="q4_type" value="medicinal"><span data-de="Naturmedizin / KrÃ¤uter" data-vi="DÆ°á»£c liá»‡u / thuá»‘c ÄÃ´ng y" data-en="Herbal / medicinal"></span></label>
            <label class="choice"><input type="radio" name="q4_type" value="coffee_machine"><span data-de="Ã„hnlich wie Kaffee (Maschine)" data-vi="Giá»‘ng cÃ  phÃª (mÃ¡y)" data-en="Similar to coffee (machine)"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="B6. Bevorzugte Servierform" data-vi="B6. Báº¡n thÃ­ch uá»‘ngâ€¦" data-en="B6. Preferred serving"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q5_temp" value="hot" required><span data-de="HeiÃŸ" data-vi="NÃ³ng" data-en="Hot"></span></label>
            <label class="choice"><input type="radio" name="q5_temp" value="cold"><span data-de="Kalt / Eis" data-vi="Láº¡nh / ÄÃ¡" data-en="Cold / with ice"></span></label>
            <label class="choice"><input type="radio" name="q5_temp" value="either"><span data-de="Egal" data-vi="CÃ¡ch nÃ o cÅ©ng Ä‘Æ°á»£c" data-en="Either is fine"></span></label>
          </div>
        </div>

        <h2 data-de="TEIL C â€“ PREIS & WERT" data-vi="PHáº¦N C â€“ GIÃ & GIÃ TRá»Š" data-en="PART C â€“ PRICE & VALUE"></h2>
        <p class="small"
           data-de="Stimme den Aussagen zu (1 = gar nicht, 5 = vollkommen)."
           data-vi="Má»©c Ä‘á»™ Ä‘á»“ng Ã½ (1 = khÃ´ng Ä‘á»“ng Ã½, 5 = hoÃ n toÃ n Ä‘á»“ng Ã½)."
           data-en="Rate your agreement (1 = disagree, 5 = strongly agree)."></p>

        <div class="q" data-qscale="q6_tooCheap">
          <div class="q-title"
               data-de="C1. Der wahrgenommene Wert wirkt so niedrig, dass ich an der QualitÃ¤t zweifle."
               data-vi="C1. GiÃ¡ trá»‹ cáº£m nháº­n cÃ³ váº» quÃ¡ tháº¥p khiáº¿n tÃ´i nghi ngá» vá» cháº¥t lÆ°á»£ng."
               data-en="C1. The perceived value seems so low that I doubt the quality."></div>
          <input type="hidden" name="q6_tooCheap" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q6_tooCheap" data-value="5">5</button>
          </div>
        </div>

        <div class="q" data-qscale="q7_goodValue">
          <div class="q-title"
               data-de="C2. Der wahrgenommene Wert ist fÃ¼r meine Erwartung angemessen."
               data-vi="C2. GiÃ¡ trá»‹ cáº£m nháº­n lÃ  phÃ¹ há»£p vá»›i ká»³ vá»ng cá»§a tÃ´i."
               data-en="C2. The perceived value is appropriate for what I expect."></div>
          <input type="hidden" name="q7_goodValue" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q7_goodValue" data-value="5">5</button>
          </div>
        </div>

        <div class="q" data-qscale="q8_expOk">
          <div class="q-title"
               data-de="C3. Der wahrgenommene Wert wirkt eher hoch â€“ ich wÃ¼rde es trotzdem kaufen."
               data-vi="C3. GiÃ¡ trá»‹ cáº£m nháº­n cÃ³ váº» hÆ¡i cao â€“ nhÆ°ng tÃ´i váº«n sáº½ mua."
               data-en="C3. The perceived value seems rather high â€“ but I would still buy it."></div>
          <input type="hidden" name="q8_expOk" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q8_expOk" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q8_expOk" data-value="5">5</button>
          </div>
        </div>

        <div class="q" data-qscale="q9_tooExp">
          <div class="q-title"
               data-de="C4. Der wahrgenommene Wert ist so hoch, dass ich es nicht kaufen wÃ¼rde."
               data-vi="C4. GiÃ¡ trá»‹ cáº£m nháº­n cao Ä‘áº¿n má»©c tÃ´i sáº½ khÃ´ng mua."
               data-en="C4. The perceived value is so high that I would not buy it."></div>
          <input type="hidden" name="q9_tooExp" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q9_tooExp" data-value="5">5</button>
          </div>
        </div>

        <h2 data-de="TEIL D â€“ WIEDERKONSUM" data-vi="PHáº¦N D â€“ Uá»NG Láº I" data-en="PART D â€“ REPURCHASE"></h2>

        <div class="q" data-qscale="q15_repurchase">
          <div class="q-title"
               data-de="D1. Wie wahrscheinlich ist es, dass Sie dieses GetrÃ¤nk erneut trinken wÃ¼rden? (1 = sehr unwahrscheinlich, 5 = sehr wahrscheinlich)"
               data-vi="D1. Báº¡n cÃ³ kháº£ nÄƒng sáº½ uá»‘ng láº¡i thá»©c uá»‘ng nÃ y khÃ´ng? (1 = ráº¥t khÃ´ng cÃ³ kháº£ nÄƒng, 5 = ráº¥t cÃ³ kháº£ nÄƒng)"
               data-en="D1. How likely are you to drink this again? (1 = very unlikely, 5 = very likely)"></div>
          <input type="hidden" name="q15_repurchase" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q15_repurchase" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q15_repurchase" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q15_repurchase" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q15_repurchase" data-value="4">4</button>
            <button class="dot" type="button" data-scale="q15_repurchase" data-value="5">5</button>
          </div>
        </div>

        <div class="q" id="q16_block" style="display:none;">
          <div class="q-title"
               data-de="D2. Wenn eher nicht: Warum? (Mehrfachauswahl)"
               data-vi="D2. Náº¿u khÃ´ng: VÃ¬ sao? (Chá»n nhiá»u)"
               data-en="D2. If not likely: Why? (multi-select)"></div>
          <div class="choices">
            <label class="choice"><input type="checkbox" name="q16_reason" value="taste"><span data-de="Geschmack" data-vi="Vá»‹" data-en="Taste"></span></label>
            <label class="choice"><input type="checkbox" name="q16_reason" value="aftertaste"><span data-de="Nachgeschmack" data-vi="Háº­u vá»‹" data-en="Aftertaste"></span></label>
            <label class="choice"><input type="checkbox" name="q16_reason" value="mouthfeel"><span data-de="Konsistenz / MundgefÃ¼hl" data-vi="Cáº£m giÃ¡c miá»‡ng" data-en="Mouthfeel"></span></label>
            <label class="choice"><input type="checkbox" name="q16_reason" value="unfamiliar"><span data-de="Zu ungewohnt / unbekannt" data-vi="QuÃ¡ láº¡ / chÆ°a quen" data-en="Too unfamiliar"></span></label>
            <label class="choice"><input type="checkbox" name="q16_reason" value="coffeeTeaOnly"><span data-de="Ich trinke normalerweise nur Kaffee/Tee" data-vi="TÃ´i thÆ°á»ng chá»‰ uá»‘ng cÃ  phÃª/trÃ " data-en="I usually only drink coffee/tea"></span></label>
            <label class="choice"><input type="checkbox" name="q16_reason" value="noTrust"><span data-de="Kein Vertrauen in neue GetrÃ¤nke" data-vi="KhÃ´ng tin Ä‘á»“ uá»‘ng má»›i" data-en="No trust in new drinks"></span></label>
            <label class="choice"><input type="checkbox" name="q16_reason" value="price"><span data-de="Preis" data-vi="GiÃ¡" data-en="Price"></span></label>

            <label class="choice" style="flex:1; min-width:220px;">
              <input type="checkbox" name="q16_reason" value="other" id="q16_otherChk">
              <span data-de="Sonstiges:" data-vi="KhÃ¡c:" data-en="Other:"></span>
            </label>
            <input type="text" name="q16_otherText" id="q16_otherText"
                   placeholder="..."
                   style="width:100%; padding:10px; margin-top:8px; display:none;"
                   autocomplete="off" />
          </div>
        </div>

        <h2 data-de="TEIL E â€“ KAUFVERHALTEN" data-vi="PHáº¦N E â€“ MUA HÃ€NG" data-en="PART E â€“ BUYING"></h2>

        <div class="q">
          <div class="q-title" data-de="E1. KonsumhÃ¤ufigkeit" data-vi="E1. Táº§n suáº¥t uá»‘ng" data-en="E1. Consumption frequency"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q10_freq" value="daily" required><span data-de="TÃ¤glich" data-vi="Má»—i ngÃ y" data-en="Daily"></span></label>
            <label class="choice"><input type="radio" name="q10_freq" value="2_3wk"><span data-de="2-3 mal pro Woche" data-vi="2â€“3 láº§n / tuáº§n" data-en="2-3 times/week"></span></label>
            <label class="choice"><input type="radio" name="q10_freq" value="1wk"><span data-de="WÃ¶chentlich" data-vi="1 láº§n / tuáº§n" data-en="Once a week"></span></label>
            <label class="choice"><input type="radio" name="q10_freq" value="occasion"><span data-de="Gelegentlich" data-vi="Thá»‰nh thoáº£ng" data-en="Occasionally"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="E2. Bevorzugte Packung" data-vi="E2. Báº¡n thÃ­ch muaâ€¦" data-en="E2. Preferred pack"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q11_pack" value="single" required><span data-de="Einzelne Kapsel" data-vi="Tá»«ng viÃªn" data-en="Single capsule"></span></label>
            <label class="choice"><input type="radio" name="q11_pack" value="box10"><span data-de="10er Box" data-vi="Há»™p 10 viÃªn" data-en="Box of 10"></span></label>
            <label class="choice"><input type="radio" name="q11_pack" value="box30"><span data-de="30er Box" data-vi="Há»™p 30 viÃªn" data-en="Box of 30"></span></label>
            <label class="choice"><input type="radio" name="q11_pack" value="gift"><span data-de="Geschenkbox ðŸŽ" data-vi="Há»™p quÃ  ðŸŽ" data-en="Gift box ðŸŽ"></span></label>
          </div>
        </div>

        <div class="q">
          <div class="q-title" data-de="E3. VertrauenswÃ¼rdigster Kaufort" data-vi="E3. NÆ¡i tin tÆ°á»Ÿng nháº¥t" data-en="E3. Most trusted place"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q12_channel" value="pharmacy" required><span data-de="Apotheke" data-vi="NhÃ  thuá»‘c" data-en="Pharmacy"></span></label>
            <label class="choice"><input type="radio" name="q12_channel" value="supermarket"><span data-de="Supermarkt" data-vi="SiÃªu thá»‹" data-en="Supermarket"></span></label>
            <label class="choice"><input type="radio" name="q12_channel" value="online"><span data-de="Offizielle Webseite" data-vi="Website chÃ­nh thá»©c" data-en="Official website"></span></label>
          </div>
        </div>

        <h2 data-de="TEIL F â€“ OPTIONAL" data-vi="PHáº¦N F â€“ TÃ™Y CHá»ŒN" data-en="PART F â€“ OPTIONAL"></h2>

        <div class="q">
          <div class="q-title" data-de="F1. Aktuelle TÃ¤tigkeit" data-vi="F1. Báº¡n hiá»‡n lÃ mâ€¦" data-en="F1. Current occupation"></div>
          <div class="choices">
            <label class="choice"><input type="radio" name="q13_work" value="office"><span data-de="BÃ¼roangestellter" data-vi="NhÃ¢n viÃªn vÄƒn phÃ²ng" data-en="Office worker"></span></label>
            <label class="choice"><input type="radio" name="q13_work" value="self"><span data-de="SelbststÃ¤ndig" data-vi="Tá»± kinh doanh" data-en="Self-employed"></span></label>
            <label class="choice"><input type="radio" name="q13_work" value="student"><span data-de="Student" data-vi="Sinh viÃªn" data-en="Student"></span></label>
            <label class="choice"><input type="radio" name="q13_work" value="home"><span data-de="Hausfrau/-mann" data-vi="Ná»™i trá»£" data-en="Homemaker"></span></label>
          </div>
        </div>

        <div class="q" data-qscale="q14_spend">
          <div class="q-title" data-de="F2. Ausgaben fÃ¼r Gesundheit / Monat" data-vi="F2. Chi cho sá»©c khá»e / thÃ¡ng" data-en="F2. Health spending / month"></div>
          <input type="hidden" name="q14_spend" value="">
          <div class="scale">
            <button class="dot" type="button" data-scale="q14_spend" data-value="1">1</button>
            <button class="dot" type="button" data-scale="q14_spend" data-value="2">2</button>
            <button class="dot" type="button" data-scale="q14_spend" data-value="3">3</button>
            <button class="dot" type="button" data-scale="q14_spend" data-value="4">4</button>
          </div>
        </div>

        <div class="footer">
          <button class="btn" type="submit" data-de="Senden" data-vi="Gá»­i" data-en="Submit"></button>
        </div>

      </form>
    </div>
  </div>

  <!-- App -->
  <script src="app.js"></script>

  <!-- Survey Logic (safe + fallback) -->
  <script>
    // Fallback, falls app.js nicht lÃ¤dt oder unvollstÃ¤ndig ist
    if (!window.Ginseng) {
      window.Ginseng = {
        initLangButtons: function () {
          const setLang = (lang) => {
            localStorage.setItem("GINSENG_LANG", lang);
            this.renderI18n();
          };
          const btnDe = document.getElementById("btnDe");
          const btnVi = document.getElementById("btnVi");
          const btnEn = document.getElementById("btnEn");
          if (btnDe) btnDe.onclick = () => setLang("de");
          if (btnVi) btnVi.onclick = () => setLang("vi");
          if (btnEn) btnEn.onclick = () => setLang("en");
        },
        renderI18n: function () {
          const lang = localStorage.getItem("GINSENG_LANG") || "vi";
          document.documentElement.lang = lang;
          document.querySelectorAll("[data-de]").forEach((el) => {
            const txt = el.getAttribute("data-" + lang);
            if (txt == null) return;
            if (el.tagName === "OPTION") el.text = txt;
            else el.innerHTML = txt;
          });
        },
        setScale: function(name, value) {
          const input = document.querySelector('input[name="' + name + '"]');
          if (input) input.value = value;
          document.querySelectorAll('button[data-scale="' + name + '"]').forEach((b) => {
            b.classList.toggle("active", b.getAttribute("data-value") === String(value));
          });
        },
        t: function(map) {
          const lang = localStorage.getItem("GINSENG_LANG") || "vi";
          return (map && (map[lang] || map.vi || map.en || map.de)) || "";
        }
      };
    } else {
      // Falls app.js existiert, aber t() nicht: ergÃ¤nzen
      if (typeof window.Ginseng.t !== "function") {
        window.Ginseng.t = function(map) {
          const lang = localStorage.getItem("GINSENG_LANG") || document.documentElement.lang || "vi";
          return (map && (map[lang] || map.vi || map.en || map.de)) || "";
        };
      }
    }

    function updateQ16() {
      const repurchaseHidden = document.querySelector('input[name="q15_repurchase"]');
      const q16Block = document.getElementById("q16_block");
      if (!repurchaseHidden || !q16Block) return;
      const v = Number(repurchaseHidden.value || "0");
      q16Block.style.display = (v > 0 && v <= 2) ? "block" : "none";
    }

    document.addEventListener("DOMContentLoaded", () => {
      // Wichtig: immer rendern (zusÃ¤tzlich zu app.js)
      if (window.Ginseng.initLangButtons) window.Ginseng.initLangButtons();
      if (window.Ginseng.renderI18n) window.Ginseng.renderI18n();

      // Skalen klickbar
      document.querySelectorAll('button.dot[data-scale][data-value]').forEach((btn) => {
        btn.addEventListener("click", () => {
          const scaleName = btn.getAttribute("data-scale");
          const value = btn.getAttribute("data-value");
          window.Ginseng.setScale(scaleName, value);
          if (scaleName === "q15_repurchase") updateQ16();
        });
      });

      // Other Textfeld
      const otherChk = document.getElementById("q16_otherChk");
      const otherTxt = document.getElementById("q16_otherText");
      if (otherChk && otherTxt) {
        const syncOther = () => {
          otherTxt.style.display = otherChk.checked ? "block" : "none";
          if (!otherChk.checked) otherTxt.value = "";
        };
        otherChk.addEventListener("change", syncOther);
        syncOther();
      }

      updateQ16();

      // Submit
      const form = document.getElementById("surveyForm");
      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Skalen-Validierung (hidden inputs)
        const requiredScales = ["q2b_mouthfeel","q6_tooCheap","q7_goodValue","q8_expOk","q9_tooExp","q15_repurchase","q14_spend"];
        for (const k of requiredScales) {
          const v = (document.querySelector('input[name="' + k + '"]') || {}).value || "";
          if (v === "") {
            alert(window.Ginseng.t({
              de: "Bitte alle Skalen ausfÃ¼llen.",
              vi: "Vui lÃ²ng tráº£ lá»i Ä‘áº§y Ä‘á»§ cÃ¡c thang Ä‘iá»ƒm.",
              en: "Please complete all scale questions."
            }));
            return;
          }
        }

        const fd = new FormData(form);

        // Meta
        const roleEl = document.getElementById("role");
        const cityEl = document.getElementById("city");
        if (roleEl) fd.set("meta_role", roleEl.value || "");
        if (cityEl) fd.set("meta_city", cityEl.value || "");

        // Multi-select
        const q16Reasons = Array.from(document.querySelectorAll('input[name="q16_reason"]:checked')).map(x => x.value);
        if (q16Reasons.length) fd.set("q16_reason", JSON.stringify(q16Reasons));

        // Object payload
        const payload = {};
        fd.forEach((v, k) => payload[k] = v);
        payload.ts = new Date().toISOString();
        payload.lang = (localStorage.getItem("GINSENG_LANG") || document.documentElement.lang || "vi");

        try {
          // optional: falls du spÃ¤ter in app.js eine save/submit Funktion hast
          if (typeof window.Ginseng.submitSurvey === "function") {
            await window.Ginseng.submitSurvey(payload);
          } else if (typeof window.Ginseng.saveSurvey === "function") {
            await window.Ginseng.saveSurvey(payload);
          } else {
            localStorage.setItem("ginseng_pilot_last_submission", JSON.stringify(payload));
          }

          window.location.href = "thanks.html";
        } catch (err) {
          console.error(err);
          alert(window.Ginseng.t({
            de: "Senden hat nicht geklappt. Bitte versuche es erneut.",
            vi: "Gá»­i khÃ´ng thÃ nh cÃ´ng. Vui lÃ²ng thá»­ láº¡i.",
            en: "Submit failed. Please try again."
          }));
        }
      });
    });
  </script>
</body>
</html>
